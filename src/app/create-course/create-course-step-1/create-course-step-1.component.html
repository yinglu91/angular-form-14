<div [formGroup]="form">
  <mat-form-field>
    <input matInput placeholder="Course title" formControlName="title" #title />
    <mat-hint align="end"> {{ title.value.length }} / 60 </mat-hint>

    <mat-error *ngIf="courseTitle.errors?.titileExists"
      >This title is already being used.</mat-error
    >
  </mat-form-field>

  <mat-form-field>
    <mat-select placeholder="Select category" formControlName="category">
      <ng-container *ngFor="let category of courseCategories$ | async">
        <mat-option [value]="category.code">
          {{ category.description }}
        </mat-option>
      </ng-container>
    </mat-select>
  </mat-form-field>

  <mat-form-field>
    <input
      matInput
      [matDatepicker]="releaseDatePicker"
      placeholder="Release date"
      formControlName="releasedAt"
    />

    <mat-datepicker-toggle
      matSuffix
      [for]="releaseDatePicker"
    ></mat-datepicker-toggle>

    <mat-datepicker #releaseDatePicker></mat-datepicker>
  </mat-form-field>

  <mat-checkbox color="primary" formControlName="downloadsAllowed">
    Downloads allowed?
  </mat-checkbox>

  <mat-form-field appearance="outline">
    <mat-label>Course Description</mat-label>

    <textarea matInput formControlName="longDescription"></textarea>
  </mat-form-field>
</div>

<div class="form-val">form contents: {{ form.value | json }}</div>
<div class="form-val">form valid? {{ form.valid }}</div>
